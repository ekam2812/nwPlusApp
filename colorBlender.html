<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Blender</title>
    <style>
        #result span {
            display: inline-block;
            width: 100px;
            height: 50px;
            line-height: 50px;
            text-align: center;
            color: #fff;
            margin: 5px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<h1>Color Blender</h1>
<!-- Color selection inputs -->
<label for="color1">Choose Light Source Color: </label>
<input type="color" id="color1" value="#fff0c8">
<label for="color2">Choose Normal Color: </label>
<input type="color" id="color2" value="#6496c8">

<!-- Blend factor input -->
<label for="blendFactor">Blend Factor (Light Source Influence): </label>
<input type="range" id="blendFactor" min="0" max="1" step="0.1" value="0.3">
<span id="blendFactorValue">0.3</span>

<!-- Button to trigger the color blending -->
<button onclick="generateBlendedColors()">Generate Blended Colors</button>

<!-- Section to display the result -->
<h3>Results:</h3>
<div id="result">
    <p>Blended Color: <span id="blendedColor"> </span></p>
    <p>Highlight Color: <span id="highlightColor"> </span></p>
    <p>Shadow Color: <span id="shadowColor"> </span></p>
</div>

<!-- JavaScript code -->
<script>
    // Function to convert hex color to RGB object
    function hexToRgb(hex) {
        const bigint = parseInt(hex.slice(1), 16);
        return {
            r: (bigint >> 16) & 255,
            g: (bigint >> 8) & 255,
            b: bigint & 255
        };
    }

    // Function to convert RGB object to hex color
    function rgbToHex(color) {
        const toHex = (c) => c.toString(16).padStart(2, '0');
        return `#${toHex(color.r)}${toHex(color.g)}${toHex(color.b)}`;
    }

    // Function to blend two colors by a specified factor
    function blendColors(color1, color2, blendFactor) {
        return {
            r: Math.round(color1.r * (1 - blendFactor) + color2.r * blendFactor),
            g: Math.round(color1.g * (1 - blendFactor) + color2.g * blendFactor),
            b: Math.round(color1.b * (1 - blendFactor) + color2.b * blendFactor)
        };
    }

    // Function to create the color palette
    function createShadingPalette(lightSource, normalColor, blendFactor) {
        const blendedColor = blendColors(normalColor, lightSource, blendFactor);

        // Create highlight by blending with white
        const white = { r: 255, g: 255, b: 255 };
        const highlightColor = blendColors(blendedColor, white, 0.3); // Blend 30% towards white

        // Create shadow by blending with black
        const black = { r: 0, g: 0, b: 0 };
        const shadowColor = blendColors(blendedColor, black, 0.3); // Blend 30% towards black

        return {
            blendedColor: rgbToHex(blendedColor),
            highlightColor: rgbToHex(highlightColor),
            shadowColor: rgbToHex(shadowColor)
        };
    }

    // Function to update blend factor display
    document.getElementById("blendFactor").addEventListener("input", function() {
        document.getElementById("blendFactorValue").textContent = this.value;
    });

    // Function to generate the blended colors and display them
    function generateBlendedColors() {
        // Retrieve selected colors
        const color1 = hexToRgb(document.getElementById("color1").value);
        const color2 = hexToRgb(document.getElementById("color2").value);

        // Retrieve the user-selected blend factor
        const blendFactor = parseFloat(document.getElementById("blendFactor").value);

        // Create color palette with the specified blend factor
        const palette = createShadingPalette(color1, color2, blendFactor);

        // Display results
        document.getElementById("blendedColor").textContent = palette.blendedColor;
        document.getElementById("highlightColor").textContent = palette.highlightColor;
        document.getElementById("shadowColor").textContent = palette.shadowColor;

        // Set background colors
        document.getElementById("blendedColor").style.backgroundColor = palette.blendedColor;
        document.getElementById("highlightColor").style.backgroundColor = palette.highlightColor;
        document.getElementById("shadowColor").style.backgroundColor = palette.shadowColor;
    }
</script>
</body>
</html>
